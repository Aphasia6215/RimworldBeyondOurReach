<?xml version="1.0" encoding="UTF-8"?>
<Defs>
  <ThingDef Abstract="True" Name="MechanitorImplantCraftableCosmicBase" ParentName="MechanitorImplantBase">
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <Beauty>-4</Beauty>
      <Mass>1</Mass>
      <MarketValue>24000</MarketValue>
      <DeteriorationRate>0</DeteriorationRate>
      <WorkToMake>64000</WorkToMake>
    </statBases>
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.80</drawSize>
      <color>(154,124,104)</color>
    </graphicData>
    <recipeMaker>
      <unfinishedThingDef>UnfinishedHealthItemProsthetic</unfinishedThingDef>
      <recipeUsers>
        <li>Table_SNS_BionicCraftingStation_GenII</li>
      </recipeUsers>
      <useIngredientsForColor>false</useIngredientsForColor>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Machining</soundWorking>
      <skillRequirements>
        <Crafting>16</Crafting>
      </skillRequirements>
      <displayPriority>650</displayPriority>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Forbiddable" />
    </comps>
    <tradeability>Sellable</tradeability>
  </ThingDef>

  <!-- Control sublink -->
  <ThingDef Abstract="True" Name="ControlSublinkBaseCosmic" ParentName="MechanitorImplantCraftableBase">
    <descriptionHyperlinks>
      <HediffDef>ControlSublinkImplantCosmic</HediffDef>
    </descriptionHyperlinks>
    <statBases>
      <MaxInstallCount>5</MaxInstallCount>
    </statBases>
  </ThingDef>

  <ThingDef ParentName="ControlSublinkBaseCosmic">
    <defName>ControlSublinkCosmic</defName>
    <label>cosmic control sublink (standard)</label>
    <description>A neural cosmic implant which gives a mechanitor an additional control group. Additionally, the sublink slightly increases the work speed of any mechanoids controlled by the mechanitor.\n\nThis standard-tier sublink can only increase the control group count up to 3. To go higher, a higher-tier sublink implant must be used.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <SignalChip>1</SignalChip>
      <BOR_ComponentII>4</BOR_ComponentII>
    </costList>
    <recipeMaker>
      <researchPrerequisite>StandardMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant sublink</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>ControlSublinkImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
        <maxSeverity>3</maxSeverity>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="ControlSublinkBaseCosmic">
    <defName>ControlSublinkHighCosmic</defName>
    <label>cosmic control sublink (high)</label>
    <description>A neural cosmic implant which gives a mechanitor an additional control group. Additionally, the sublink slightly increases the work speed of any mechanoids controlled by the mechanitor.\n\nThis high-tier implant can increase the control group count up to 6.\n\nIt can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its effect.</description>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <BOR_ComponentII>3</BOR_ComponentII>
      <BOR_ComponentIII>3</BOR_ComponentIII>
    </costList>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant high sublink</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>ControlSublinkImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
        <requiresExistingHediff>true</requiresExistingHediff>
        <minSeverity>3</minSeverity>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>ControlSublinkImplantCosmic</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks>
      <ThingDef>ControlSublinkCosmic</ThingDef>
    </descriptionHyperlinks>
    <label>cosmic control sublink</label>
    <description>A cosmic implant which increases a mechanitor's control group count and the work speed of a mechanitor's mechs.\n\nThis implant can be installed up to 6 times to increase its effect.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity> <!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>6</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechControlGroups>1</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>0.48</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechControlGroups>2</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>0.96</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechControlGroups>3</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>0.144</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>4</minSeverity>
        <statOffsets>
          <MechControlGroups>4</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>1.92</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>5</minSeverity>
        <statOffsets>
          <MechControlGroups>5</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>2.4</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
      <li>
        <minSeverity>6</minSeverity>
        <statOffsets>
          <MechControlGroups>6</MechControlGroups>
          <WorkSpeedGlobalOffsetMech>2.88</WorkSpeedGlobalOffsetMech>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- Remote repairer -->
  <ThingDef ParentName="MechanitorImplantCraftableBase">
    <defName>RemoteRepairerCosmic</defName>
    <label>cosmic remote repairer</label>
    <description>A cosmic mechlink upgrade which allows the mechanitor to repair mechs from a distance. The user links with the mechanoid and uses their own brain to psychically guide its self-repair mechanites.\n\nThis implant can be self-installed without surgery.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <descriptionHyperlinks>
      <HediffDef>RemoteRepairerImplantCosmic</HediffDef>
    </descriptionHyperlinks>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <BOR_ComponentII>6</BOR_ComponentII>
    </costList>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>RemoteRepairerImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>RemoteRepairerImplantCosmic</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks>
      <ThingDef>RemoteRepairerCosmic</ThingDef>
    </descriptionHyperlinks>
    <label>cosmic remote repairer</label>
    <description>A cosmic mechlink upgrade which allows the mechanitor to repair mechs from a distance. The user links with the mechanoid and uses their own brain to psychically guide its self-repair mechanites.\n\nThis implant can be installed up to 3 times to increase its range.</description>
    <descriptionShort>An implant which allows the user to repair mechs from a distance. This can be installed up to 3 times.</descriptionShort>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity> <!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>RemoteRepair</li>
        </abilityDefs>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechRemoteRepairDistance>30</MechRemoteRepairDistance>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechRemoteRepairDistance>52</MechRemoteRepairDistance>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechRemoteRepairDistance>80</MechRemoteRepairDistance>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- Mech gestation processorr -->
  <ThingDef ParentName="MechanitorImplantCraftableBase">
    <defName>MechFormfeederCosmic</defName>
    <label>mech cosmic gestation processor</label>
    <description>A cosmic implant which increases the speed at which a mechanitor can produce mechs in a mech gestator. The processor optimizes the behavior of the mechanites in the mech forming tank.\n\nThis implant can be self-installed in the same way as the mechlink.\n\nThis implant can be installed up to 6 times to increase its effect.</description>
    <descriptionHyperlinks>
      <HediffDef>MechFormfeederImplantCosmic</HediffDef>
    </descriptionHyperlinks>
    <costList>
      <SignalChip>1</SignalChip>
      <BOR_ComponentII>6</BOR_ComponentII>
    </costList>
    <statBases>
      <MaxInstallCount>6</MaxInstallCount>
    </statBases>
    <recipeMaker>
      <researchPrerequisite>StandardMechtech</researchPrerequisite>
    </recipeMaker>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>MechFormfeederImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>MechFormfeederImplantCosmic</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks>
      <ThingDef>MechFormfeederCosmic</ThingDef>
    </descriptionHyperlinks>
    <label>cosmic mech gestation processor</label>
    <description>A cosmic implant which increases the speed at which a mechanitor can produce mechs in a mech gestator. The processor optimizes the behavior of the mechanites in the mech forming tank.\n\nThis implant can be self-installed in the same way as the mechlink.\n\nThis implant can be installed up to 6 times to increase its effect.</description>
    <descriptionShort>As tellar implant which lets a mechanitor gestate new mechs faster. This can be installed up to 6 times to increase the effect.</descriptionShort>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity><!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>6</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechFormingSpeed>1.22</MechFormingSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechFormingSpeed>2.4</MechFormingSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechFormingSpeed>4</MechFormingSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>4</minSeverity>
        <statOffsets>
          <MechFormingSpeed>5.2</MechFormingSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>5</minSeverity>
        <statOffsets>
          <MechFormingSpeed>6.4</MechFormingSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>6</minSeverity>
        <statOffsets>
          <MechFormingSpeed>8</MechFormingSpeed>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- Remote shielder -->
  <ThingDef ParentName="MechanitorImplantCraftableBase">
    <defName>RemoteShielderCosmic</defName>
    <label>cosmic remote shielder</label>
    <description>A cosmic implant which allows the mechanitor to place a personal defense shield on a mech. The mechanitor must continuously focus on the mech in order to maintain the shield.\n\nPlacing a shield at a distance requires a substantial amount of focused energy. It can be used to save a mech at a critical moment.\n\nThis implant can be self-installed in the same way as the mechlink.\n\nThis implant can be installed up to 3 times to increase its range and shield energy.</description>
    <descriptionHyperlinks>
      <HediffDef>RemoteShielderImplantCosmic</HediffDef>
    </descriptionHyperlinks>
    <costList>
      <PowerfocusChip>1</PowerfocusChip>
      <BOR_ComponentII>6</BOR_ComponentII>
    </costList>
    <recipeMaker>
      <researchPrerequisite>HighMechtech</researchPrerequisite>
    </recipeMaker>
    <statBases>
      <MaxInstallCount>3</MaxInstallCount>
    </statBases>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>RemoteShielderImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>RemoteShielderImplantCosmic</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks>
      <ThingDef>RemoteShielderCosmic</ThingDef>
    </descriptionHyperlinks>
    <label>cosmic remote shielder</label>
    <description>A cosmic implant which allows the mechanitor to place a personal defense shield on a mech. The mechanitor must continuously focus on the mech in order to maintain the shield. It can be used to save a mech at a critical moment.\n\nThis implant can be installed up to 3 times to increase its range and shield energy.</description>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity>
    <minSeverity>0</minSeverity>
    <maxSeverity>3</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <comps>
      <li Class="HediffCompProperties_GiveAbility">
        <abilityDefs>
          <li>RemoteShield</li>
        </abilityDefs>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechRemoteShieldDistance>30</MechRemoteShieldDistance>
          <MechRemoteShieldEnergy>300</MechRemoteShieldEnergy>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechRemoteShieldDistance>56</MechRemoteShieldDistance>
          <MechRemoteShieldEnergy>600</MechRemoteShieldEnergy>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechRemoteShieldDistance>80</MechRemoteShieldDistance>
          <MechRemoteShieldEnergy>900</MechRemoteShieldEnergy>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <!-- Repair probe -->

  <ThingDef ParentName="MechanitorImplantCraftableBase">
    <defName>RepairProbeCosmic</defName>
    <label>cosmic repair probe</label>
    <description>A cosmic implant which increases the speed at which a mechanitor can repair a mechanoid. This does not affect the overall energy needed to repair a mechanoid.\n\nThe implant allows the mechanitor to plug directly into a mechanoid while they are repairing it. This allows them to more quickly understand the mech's injuries, and better-direct the mech's self-repair mechanites to assist with the repair.\n\nThis implant can be self-installed in the same way as the mechlink.\n\nThis implant can be installed up to 6 times to increase its effect.</description>
    <descriptionHyperlinks>
      <HediffDef>RepairProbeImplantCosmic</HediffDef>
    </descriptionHyperlinks>
    <costList>
      <NanostructuringChip>1</NanostructuringChip>
      <BOR_ComponentIII>2</BOR_ComponentIII>
    </costList>
    <recipeMaker>
      <researchPrerequisite>UltraMechtech</researchPrerequisite>
    </recipeMaker>
    <statBases>
      <MaxInstallCount>6</MaxInstallCount>
    </statBases>
    <comps>
      <li Class="CompProperties_Usable">
        <compClass>CompUsableImplant</compClass>
        <useJob>UseItem</useJob>
        <useLabel>Implant {0_label}</useLabel>
        <userMustHaveHediff>MechlinkImplant</userMustHaveHediff>
      </li>
      <li Class="CompProperties_UseEffectInstallImplant">
        <hediffDef>RepairProbeImplantCosmic</hediffDef>
        <bodyPart>Brain</bodyPart>
        <canUpgrade>true</canUpgrade>
      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>RepairProbeImplantCosmic</defName>
    <hediffClass>Hediff_Level</hediffClass>
    <descriptionHyperlinks>
      <ThingDef>RepairProbeCosmic</ThingDef>
    </descriptionHyperlinks>
    <label>cosmic repair probe</label>
    <description>A cosmic implant which increases a mechanitor's mech repair speed. This does not affect the overall energy needed to repair a mechanoid.\n\nThe implant allows the mechanitor to plug directly into a mechanoid while repairing it and better-direct the mech's self-repair mechanites.\n\nThis implant can be installed up to 6 times to increase its effect.</description>
    <descriptionShort>A cosmic implant which lets a mechanitor repair mechs faster. This can be installed up to 6 times.</descriptionShort>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <initialSeverity>1</initialSeverity><!-- Severity is bound to level of implant -->
    <minSeverity>0</minSeverity>
    <maxSeverity>6</maxSeverity>
    <keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
    <levelIsQuantity>true</levelIsQuantity>
    <stages>
      <li>
        <minSeverity>1</minSeverity>
        <statOffsets>
          <MechRepairSpeed>1.22</MechRepairSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>2</minSeverity>
        <statOffsets>
          <MechRepairSpeed>2.4</MechRepairSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>3</minSeverity>
        <statOffsets>
          <MechRepairSpeed>4</MechRepairSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>4</minSeverity>
        <statOffsets>
          <MechRepairSpeed>5.32</MechRepairSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>5</minSeverity>
        <statOffsets>
          <MechRepairSpeed>6.44</MechRepairSpeed>
        </statOffsets>
      </li>
      <li>
        <minSeverity>6</minSeverity>
        <statOffsets>
          <MechRepairSpeed>8</MechRepairSpeed>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>
</Defs>